<?xml version='1.0' encoding='utf-8' ?>

<results>
  <test name='E:\dev\data-dev2\tableau-tests\tdvt\logicaltests\setup\lod\setup.lod.14_As in-out Set.dbo.xml'>
    <sql>
      SELECT [t12].[__measure__3] AS [avg:Calculation_4621225004123988:ok],&#10;  [t3].[io:Set 1:nk] AS [io:Set 1:nk],&#10;  [t3].[sum:Sales Total:ok] AS [sum:Sales Total:ok]&#10;FROM (&#10;  SELECT (CASE WHEN (NOT ([t2].[XTableau_join_flag] IS NULL)) THEN 1 WHEN NOT (NOT ([t2].[XTableau_join_flag] IS NULL)) THEN 0 ELSE NULL END) AS [io:Set 1:nk],&#10;    SUM([Staples].[Sales Total]) AS [sum:Sales Total:ok]&#10;  FROM [dbo].[Staples] [Staples]&#10;    INNER JOIN (&#10;    SELECT [Staples].[Customer Name] AS [Customer Name],&#10;      MIN([Staples].[Order Date]) AS [__measure__1]&#10;    FROM [dbo].[Staples] [Staples]&#10;    GROUP BY [Staples].[Customer Name]&#10;  ) [t0] ON (([Staples].[Customer Name] = [t0].[Customer Name]) OR (([Staples].[Customer Name] IS NULL) AND ([t0].[Customer Name] IS NULL)))&#10;    LEFT JOIN (&#10;    SELECT [t1].[__measure__0] AS [none:LOD - Fixed - 1 (copy 2):ok],&#10;      COUNT_BIG(1) AS [XTableau_join_flag]&#10;    FROM [dbo].[Staples] [Staples]&#10;      INNER JOIN (&#10;      SELECT [Staples].[Customer Name] AS [Customer Name],&#10;        MIN([Staples].[Order Date]) AS [__measure__0]&#10;      FROM [dbo].[Staples] [Staples]&#10;      GROUP BY [Staples].[Customer Name]&#10;    ) [t1] ON (([Staples].[Customer Name] = [t1].[Customer Name]) OR (([Staples].[Customer Name] IS NULL) AND ([t1].[Customer Name] IS NULL)))&#10;    WHERE (NOT ([t1].[__measure__0] IN ({ts &apos;1997-01-03 00:00:00&apos;}, {ts &apos;1997-01-07 00:00:00&apos;}, {ts &apos;1997-01-11 00:00:00&apos;})))&#10;    GROUP BY [t1].[__measure__0]&#10;  ) [t2] ON (([t0].[__measure__1] = [t2].[none:LOD - Fixed - 1 (copy 2):ok]) OR (([t0].[__measure__1] IS NULL) AND ([t2].[none:LOD - Fixed - 1 (copy 2):ok] IS NULL)))&#10;  GROUP BY (CASE WHEN (NOT ([t2].[XTableau_join_flag] IS NULL)) THEN 1 WHEN NOT (NOT ([t2].[XTableau_join_flag] IS NULL)) THEN 0 ELSE NULL END)&#10;) [t3]&#10;  INNER JOIN (&#10;  SELECT [t7].[io:Set 1:nk] AS [io:Set 1:nk],&#10;    AVG(cast([t11].[__measure__2] as float)) AS [__measure__3]&#10;  FROM (&#10;    SELECT (CASE WHEN (NOT ([t6].[XTableau_join_flag] IS NULL)) THEN 1 WHEN NOT (NOT ([t6].[XTableau_join_flag] IS NULL)) THEN 0 ELSE NULL END) AS [io:Set 1:nk],&#10;      [Staples].[Prod Type1] AS [Prod Type1]&#10;    FROM [dbo].[Staples] [Staples]&#10;      INNER JOIN (&#10;      SELECT [Staples].[Customer Name] AS [Customer Name],&#10;        MIN([Staples].[Order Date]) AS [__measure__1]&#10;      FROM [dbo].[Staples] [Staples]&#10;      GROUP BY [Staples].[Customer Name]&#10;    ) [t4] ON (([Staples].[Customer Name] = [t4].[Customer Name]) OR (([Staples].[Customer Name] IS NULL) AND ([t4].[Customer Name] IS NULL)))&#10;      LEFT JOIN (&#10;      SELECT [t5].[__measure__0] AS [none:LOD - Fixed - 1 (copy 2):ok],&#10;        COUNT_BIG(1) AS [XTableau_join_flag]&#10;      FROM [dbo].[Staples] [Staples]&#10;        INNER JOIN (&#10;        SELECT [Staples].[Customer Name] AS [Customer Name],&#10;          MIN([Staples].[Order Date]) AS [__measure__0]&#10;        FROM [dbo].[Staples] [Staples]&#10;        GROUP BY [Staples].[Customer Name]&#10;      ) [t5] ON (([Staples].[Customer Name] = [t5].[Customer Name]) OR (([Staples].[Customer Name] IS NULL) AND ([t5].[Customer Name] IS NULL)))&#10;      WHERE (NOT ([t5].[__measure__0] IN ({ts &apos;1997-01-03 00:00:00&apos;}, {ts &apos;1997-01-07 00:00:00&apos;}, {ts &apos;1997-01-11 00:00:00&apos;})))&#10;      GROUP BY [t5].[__measure__0]&#10;    ) [t6] ON (([t4].[__measure__1] = [t6].[none:LOD - Fixed - 1 (copy 2):ok]) OR (([t4].[__measure__1] IS NULL) AND ([t6].[none:LOD - Fixed - 1 (copy 2):ok] IS NULL)))&#10;    GROUP BY (CASE WHEN (NOT ([t6].[XTableau_join_flag] IS NULL)) THEN 1 WHEN NOT (NOT ([t6].[XTableau_join_flag] IS NULL)) THEN 0 ELSE NULL END),&#10;      [Staples].[Prod Type1]&#10;  ) [t7]&#10;    INNER JOIN (&#10;    SELECT (CASE WHEN (NOT ([t10].[XTableau_join_flag] IS NULL)) THEN 1 WHEN NOT (NOT ([t10].[XTableau_join_flag] IS NULL)) THEN 0 ELSE NULL END) AS [io:Set 1:nk],&#10;      [Staples].[Prod Type1] AS [Prod Type1],&#10;      SUM([Staples].[Sales Total]) AS [__measure__2]&#10;    FROM [dbo].[Staples] [Staples]&#10;      INNER JOIN (&#10;      SELECT [Staples].[Customer Name] AS [Customer Name],&#10;        MIN([Staples].[Order Date]) AS [__measure__1]&#10;      FROM [dbo].[Staples] [Staples]&#10;      GROUP BY [Staples].[Customer Name]&#10;    ) [t8] ON (([Staples].[Customer Name] = [t8].[Customer Name]) OR (([Staples].[Customer Name] IS NULL) AND ([t8].[Customer Name] IS NULL)))&#10;      LEFT JOIN (&#10;      SELECT [t9].[__measure__0] AS [none:LOD - Fixed - 1 (copy 2):ok],&#10;        COUNT_BIG(1) AS [XTableau_join_flag]&#10;      FROM [dbo].[Staples] [Staples]&#10;        INNER JOIN (&#10;        SELECT [Staples].[Customer Name] AS [Customer Name],&#10;          MIN([Staples].[Order Date]) AS [__measure__0]&#10;        FROM [dbo].[Staples] [Staples]&#10;        GROUP BY [Staples].[Customer Name]&#10;      ) [t9] ON (([Staples].[Customer Name] = [t9].[Customer Name]) OR (([Staples].[Customer Name] IS NULL) AND ([t9].[Customer Name] IS NULL)))&#10;      WHERE (NOT ([t9].[__measure__0] IN ({ts &apos;1997-01-03 00:00:00&apos;}, {ts &apos;1997-01-07 00:00:00&apos;}, {ts &apos;1997-01-11 00:00:00&apos;})))&#10;      GROUP BY [t9].[__measure__0]&#10;    ) [t10] ON (([t8].[__measure__1] = [t10].[none:LOD - Fixed - 1 (copy 2):ok]) OR (([t8].[__measure__1] IS NULL) AND ([t10].[none:LOD - Fixed - 1 (copy 2):ok] IS NULL)))&#10;    GROUP BY (CASE WHEN (NOT ([t10].[XTableau_join_flag] IS NULL)) THEN 1 WHEN NOT (NOT ([t10].[XTableau_join_flag] IS NULL)) THEN 0 ELSE NULL END),&#10;      [Staples].[Prod Type1]&#10;  ) [t11] ON ((([t7].[io:Set 1:nk] = [t11].[io:Set 1:nk]) OR (([t7].[io:Set 1:nk] IS NULL) AND ([t11].[io:Set 1:nk] IS NULL))) AND (([t7].[Prod Type1] = [t11].[Prod Type1]) OR (([t7].[Prod Type1] IS NULL) AND ([t11].[Prod Type1] IS NULL))))&#10;  GROUP BY [t7].[io:Set 1:nk]&#10;) [t12] ON (([t3].[io:Set 1:nk] = [t12].[io:Set 1:nk]) OR (([t3].[io:Set 1:nk] IS NULL) AND ([t12].[io:Set 1:nk] IS NULL)))
    </sql>
    <query-time>
      587.000
    </query-time>
    <table>
      <schema>
        <column>[Staples.sqlserver].[avg:Calculation_4621225004123988:ok]</column>
        <column>[Staples.sqlserver].[io:Set 1:nk]</column>
        <column>[Staples.sqlserver].[sum:Sales Total:ok]</column>
      </schema>
      <tuple>
        <value>4330452.9</value>
        <value>false</value>
        <value>12991359.0</value>
      </tuple>
      <tuple>
        <value>28565526.0</value>
        <value>true</value>
        <value>85696579.0</value>
      </tuple>
    </table>
  </test>
</results>
